- project:
    name: openstack/puppet-tripleo
    templates:
      - puppet-openstack-check-jobs
      - puppet-openstack-module-unit-jobs
      - tripleo-undercloud-jobs
      - tripleo-multinode-baremetal-minimal
      - tripleo-multinode-container-minimal
      - tripleo-ovb-check
      - tripleo-ovb-experimental
    check:
      jobs:
        - tripleo-ci-centos-7-scenario001-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/aodh.*$
              - ^manifests/profile/base/ceilometer.*$
              - ^manifests/profile/base/ceph.*$
              - ^manifests/profile/base/cinder.*$
              - ^manifests/profile/base/congress.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/gnocchi.*$
              - ^manifests/profile/base/logging.*$
              - ^manifests/profile/base/metrics.*$
              - ^manifests/profile/base/monitoring.*$
              - ^manifests/profile/base/panko.*$
              - ^manifests/profile/base/tacker.*$
        - tripleo-ci-centos-7-scenario001-multinode-oooq-container:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/aodh.*$
              - ^manifests/profile/base/ceilometer.*$
              - ^manifests/profile/base/ceph.*$
              - ^manifests/profile/base/cinder.*$
              - ^manifests/profile/base/congress.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/gnocchi.*$
              - ^manifests/profile/base/logging.*$
              - ^manifests/profile/base/metrics.*$
              - ^manifests/profile/base/monitoring.*$
              - ^manifests/profile/base/panko.*$
              - ^manifests/profile/base/tacker.*$
        - tripleo-ci-centos-7-scenario002-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/aodh.*$
              - ^manifests/profile/base/barbican.*$
              - ^manifests/profile/base/ceilometer.*$
              - ^manifests/profile/base/cinder.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/gnocchi.*$
              - ^manifests/profile/base/nova/ec2.*$
              - ^manifests/profile/base/panko.*$
              - ^manifests/profile/base/swift.*$
              - ^manifests/profile/base/zaqar.*$
        - tripleo-ci-centos-7-scenario002-multinode-oooq-container:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/aodh.*$
              - ^manifests/profile/base/barbican.*$
              - ^manifests/profile/base/ceilometer.*$
              - ^manifests/profile/base/cinder.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/gnocchi.*$
              - ^manifests/profile/base/nova/ec2.*$
              - ^manifests/profile/base/panko.*$
              - ^manifests/profile/base/swift.*$
              - ^manifests/profile/base/zaqar.*$
        - tripleo-ci-centos-7-scenario003-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/mistral.*$
              - ^manifests/profile/base/sahara.*$
        - tripleo-ci-centos-7-scenario003-multinode-oooq-container:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/mistral.*$
              - ^manifests/profile/base/sahara.*$
        - tripleo-ci-centos-7-scenario004-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/ceph.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/manila.*$
              - ^manifests/profile/pacemaker/manila.*$
        - tripleo-ci-centos-7-scenario004-multinode-oooq-container:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/ceph.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/manila.*$
              - ^manifests/profile/pacemaker/manila.*$
        - tripleo-ci-centos-7-scenario007-multinode-oooq:
            files:
              - ^manifests/profile/base/neutron/plugins/ml2/ovn.*$
              - ^manifests/profile/base/neutron/agents/ovn.*$
              - ^manifests/profile/base/neutron/ovn.*$
        - tripleo-ci-centos-7-scenario007-multinode-oooq-container:
            files:
              - ^manifests/profile/pacemaker/ovn.*$
              - ^manifests/profile/base/neutron/plugins/ml2/ovn.*$
              - ^manifests/profile/base/neutron/agents/ovn.*$
              - ^manifests/profile/base/neutron/ovn.*$
    gate:
      queue: tripleo
      jobs:
        - tripleo-ci-centos-7-scenario001-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/aodh.*$
              - ^manifests/profile/base/ceilometer.*$
              - ^manifests/profile/base/ceph.*$
              - ^manifests/profile/base/cinder.*$
              - ^manifests/profile/base/congress.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/gnocchi.*$
              - ^manifests/profile/base/logging.*$
              - ^manifests/profile/base/metrics.*$
              - ^manifests/profile/base/monitoring.*$
              - ^manifests/profile/base/panko.*$
              - ^manifests/profile/base/tacker.*$
        - tripleo-ci-centos-7-scenario001-multinode-oooq-container:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/aodh.*$
              - ^manifests/profile/base/ceilometer.*$
              - ^manifests/profile/base/ceph.*$
              - ^manifests/profile/base/cinder.*$
              - ^manifests/profile/base/congress.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/gnocchi.*$
              - ^manifests/profile/base/logging.*$
              - ^manifests/profile/base/metrics.*$
              - ^manifests/profile/base/monitoring.*$
              - ^manifests/profile/base/panko.*$
              - ^manifests/profile/base/tacker.*$
        - tripleo-ci-centos-7-scenario002-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/aodh.*$
              - ^manifests/profile/base/barbican.*$
              - ^manifests/profile/base/ceilometer.*$
              - ^manifests/profile/base/cinder.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/gnocchi.*$
              - ^manifests/profile/base/nova/ec2.*$
              - ^manifests/profile/base/panko.*$
              - ^manifests/profile/base/swift.*$
              - ^manifests/profile/base/zaqar.*$
        - tripleo-ci-centos-7-scenario002-multinode-oooq-container:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/aodh.*$
              - ^manifests/profile/base/barbican.*$
              - ^manifests/profile/base/ceilometer.*$
              - ^manifests/profile/base/cinder.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/gnocchi.*$
              - ^manifests/profile/base/nova/ec2.*$
              - ^manifests/profile/base/panko.*$
              - ^manifests/profile/base/swift.*$
              - ^manifests/profile/base/zaqar.*$
        - tripleo-ci-centos-7-scenario003-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/mistral.*$
              - ^manifests/profile/base/sahara.*$
        - tripleo-ci-centos-7-scenario003-multinode-oooq-container:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/mistral.*$
              - ^manifests/profile/base/sahara.*$
        - tripleo-ci-centos-7-scenario004-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/ceph.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/manila.*$
              - ^manifests/profile/pacemaker/manila.*$
        - tripleo-ci-centos-7-scenario004-multinode-oooq-container:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/profile/base/ceph.*$
              - ^manifests/profile/base/glance.*$
              - ^manifests/profile/base/manila.*$
              - ^manifests/profile/pacemaker/manila.*$
        - tripleo-ci-centos-7-scenario007-multinode-oooq:
            files:
              - ^manifests/profile/base/neutron/plugins/ml2/ovn.*$
              - ^manifests/profile/base/neutron/agents/ovn.*$
              - ^manifests/profile/base/neutron/ovn.*$
        - tripleo-ci-centos-7-scenario007-multinode-oooq-container:
            files:
              - ^manifests/profile/pacemaker/ovn.*$
              - ^manifests/profile/base/neutron/plugins/ml2/ovn.*$
              - ^manifests/profile/base/neutron/agents/ovn.*$
              - ^manifests/profile/base/neutron/ovn.*$
    experimental:
      jobs:
        - tripleo-ci-centos-7-scenario005-multinode-oooq:
            files:
              - ^manifests/haproxy.*$
              - ^manifests/pacemaker/.*$
              - ^manifests/profile/pacemaker.*$
              - manifests/profile/base/pacemaker.pp
        - tripleo-ci-centos-7-scenario008-multinode-oooq:
            files:
              - manifests/profile/base/neutron/opendaylight.pp
              - manifests/profile/base/neutron/plugins/ml2/opendaylight.pp
              - manifests/profile/base/neutron/plugins/ovs/opendaylight.pp
              - ^manifests/profile/base/neutron/opendaylight/.*$
